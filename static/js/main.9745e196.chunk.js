(this["webpackJsonppatient-ms-client"]=this["webpackJsonppatient-ms-client"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){},51:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(34),r=n.n(c),s=(n(43),n(3)),l=n(21),o=n(11),i=(n(44),n(0)),u=["patient"],j=function(e){var t=e.patient;Object(l.a)(e,u);return Object(i.jsx)("li",{id:"patient-item",className:"alert alert-secondary",children:Object(i.jsx)(o.b,{to:"/patient/"+t.id+"/info",children:Object(i.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(i.jsxs)("div",{children:[Object(i.jsxs)("span",{className:"fs-4",children:[t.firstName," ",t.lastName]}),Object(i.jsx)("br",{}),Object(i.jsx)("time",{children:new Date(t.birthday).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),Object(i.jsx)("i",{className:"fa fa-".concat(t.gender.toLowerCase()," fa-2x mt-3"),"aria-hidden":"true"})]})})})},b=n(4),d=(n(51),n(2)),m=n(6),p=n.n(m),h=n(12),x=n(37),O=n(38),f=n(13),v=n.n(f),g=function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,null,[{key:"readAllPatients",value:function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://patient-webapi.herokuapp.com/patients/");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"readPatientById",value:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://patient-webapi.herokuapp.com/patients/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createPatient",value:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("https://patient-webapi.herokuapp.com/patients/",t,{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"readAllCommentsByPatientId",value:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://patient-webapi.herokuapp.com/comments/patients/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePatient",value:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.put("https://patient-webapi.herokuapp.com/patients/",t,{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePatient",value:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("https://patient-webapi.herokuapp.com/patients/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createComment",value:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("https://patient-webapi.herokuapp.com/comments/",t,{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateComment",value:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.put("https://patient-webapi.herokuapp.com/comments/",t,{headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteComment",value:function(){var e=Object(h.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("https://patient-webapi.herokuapp.com/comments/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),N=Object(a.createContext)();function y(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),c=n[0],r=n[1],l=Object(a.useState)(!1),o=Object(s.a)(l,2),u=o[0],j=o[1],m=Object(b.g)(),p=Object(a.useMemo)((function(){return u||g.readAllPatients().then((function(e){r(e.data),j(!0),"/"===m.location.pathname&&m.push({pathname:"/patient/"+e.data[0].id+"/info"})})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request.url):console.log("Unknown error!")})),[c,r]}),[u,c,m]);return Object(i.jsx)(N.Provider,Object(d.a)({value:p},e))}var w=function(e){var t=Object(a.useContext)(N),n=Object(s.a)(t,1)[0],c=Object(a.useState)(""),r=Object(s.a)(c,2),l=r[0],o=r[1],u=Object(b.g)();return Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"d-inline-flex my-4 mx-2",children:[Object(i.jsx)("input",{type:"search",placeholder:"Search...",value:l,onChange:function(e){return o(e.target.value)},className:"form-control",id:"patient-search-field"}),Object(i.jsx)("button",{onClick:function(){u.push({pathname:"/patient/create"})},className:"btn btn-success ms-2",id:"patient-create-bnt",children:"New Patient"})]}),Object(i.jsx)("ul",{className:"no-list mx-3",children:n.filter((function(e){return""===l.toLowerCase()||e.firstName.toLowerCase().includes(l)||e.lastName.toLowerCase().includes(l)})).map((function(e){return Object(i.jsx)(j,{patient:e},e.id)}))})]})},C=n(20),k=function(e){var t=Object(a.useState)({firstName:"",lastName:"",birthday:"",gender:"",country:"",state:"",address:""}),n=Object(s.a)(t,2),c=n[0],r=n[1],l=Object(a.useContext)(N),o=Object(s.a)(l,2),u=o[0],j=o[1],m=Object(b.g)();return Object(i.jsx)("div",{className:"row mt-4 mx-5",children:Object(i.jsxs)("div",{className:"col-xxl-7 col-xl-8 col-lg-9 col-md-12 col-sm-12 col-xs-12",children:[Object(i.jsx)("p",{className:"fs-3",children:"Create new Patient"}),Object(i.jsx)("hr",{}),Object(i.jsxs)("form",{children:[Object(i.jsx)("label",{htmlFor:"first-name",className:"form-label",children:"First Name:"}),Object(i.jsx)("input",{id:"first-name",name:"first-name",type:"text",className:"form-control",value:c.firstName,onChange:function(e){return r(Object(d.a)(Object(d.a)({},c),{},{firstName:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"last-name",className:"form-label",children:"Last Name:"}),Object(i.jsx)("input",{id:"last-name",name:"last-name",type:"text",className:"form-control",value:c.lastName,onChange:function(e){return r(Object(d.a)(Object(d.a)({},c),{},{lastName:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"birthday",className:"form-label",children:"Date of Birth:"}),Object(i.jsx)("input",{id:"birthday",name:"birthday",type:"date",className:"form-control",value:c.birthday,onChange:function(e){return r(Object(d.a)(Object(d.a)({},c),{},{birthday:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"gender",className:"form-label",children:"Sex:"}),Object(i.jsxs)("select",{id:"gender",name:"gender",className:"form-control",value:c.gender,onChange:function(e){return r(Object(d.a)(Object(d.a)({},c),{},{gender:e.target.value}))},children:[Object(i.jsx)("option",{disabled:!0,value:"",children:"Select sex..."}),Object(i.jsx)("option",{value:"MALE",children:"Male"}),Object(i.jsx)("option",{value:"FEMALE",children:"Female"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"country",className:"form-label",children:"Country:"}),Object(i.jsx)("input",{id:"country",name:"country",type:"text",className:"form-control",value:c.country,onChange:function(e){return r(Object(d.a)(Object(d.a)({},c),{},{country:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"state",className:"form-label",children:"State:"}),Object(i.jsx)("input",{id:"state",name:"state",type:"text",className:"form-control",value:c.state,onChange:function(e){return r(Object(d.a)(Object(d.a)({},c),{},{state:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address:"}),Object(i.jsx)("input",{id:"address",name:"address",type:"text",className:"form-control",value:c.address,onChange:function(e){return r(Object(d.a)(Object(d.a)({},c),{},{address:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{className:"btn btn-primary w-25",onClick:function(e){e.preventDefault(),g.createPatient(c).then((function(e){var t=e.data;t.comments=[],console.log(t),j([].concat(Object(C.a)(u),[t])),m.push({pathname:"/patient/"+t.id+"/info"})})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request.url):console.log("Unknown error!")}))},children:"Save"}),Object(i.jsx)("button",{className:"btn btn-warning w-25 ms-3",onClick:function(){m.push({pathname:"/"})},children:"Cancel"})]})]})})},S=(n(71),["comment","remove"]),q=function(e){var t=e.comment,n=e.remove,c=(Object(l.a)(e,S),Object(a.useState)(!0)),r=Object(s.a)(c,2),o=r[0],u=r[1],j=Object(a.useState)(t),b=Object(s.a)(j,2),m=b[0],p=b[1];return Object(i.jsxs)("li",{className:"alert alert-light d-flex justify-content-between",children:[Object(i.jsx)("div",{id:"comment-item",className:"flex-grow-1",children:o?Object(i.jsxs)("div",{children:[Object(i.jsx)("time",{className:"fs-5",children:new Date(t.createdAt).toLocaleDateString("en-US",{hour12:!1,year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),Object(i.jsx)("p",{className:"pt-2 mb-0",children:m.text})]}):Object(i.jsxs)("div",{children:[Object(i.jsx)("time",{className:"fs-5",children:new Date(t.createdAt).toLocaleDateString("en-US",{hour12:!1,year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}),Object(i.jsx)("br",{}),Object(i.jsx)("textarea",{className:"form-control mt-2",value:m.text,onChange:function(e){p(Object(d.a)(Object(d.a)({},m),{},{text:e.target.value}))}})]})}),Object(i.jsx)("div",{id:"comment-btn",children:o?Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{onClick:function(){u(!1)},className:"btn btn-primary btn-sm ms-3",children:"Edit"}),Object(i.jsx)("button",{onClick:function(){g.deleteComment(m.id).then((function(e){n(m)})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request.url):console.log("Unknown error!")}))},className:"btn btn-danger btn-sm ms-1",children:"Delete"})]}):Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{onClick:function(){u(!0),console.log(t),g.updateComment(m).then((function(e){return p(e.data)})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request.url):console.log("Unknown error!")}))},className:"btn btn-success btn-sm ms-3",children:"Save"}),Object(i.jsx)("button",{onClick:function(){p(m),u(!0)},className:"btn btn-warning btn-sm ms-1",children:"Cancel"})]})})]})},F=(n(72),function(e){var t=Object(b.h)(),n=Object(a.useContext)(N),c=Object(s.a)(n,1)[0],r=Object(a.useState)((function(){var e=c.find((function(e){return e.id===Number(t.id)})).comments;return e||[]})),l=Object(s.a)(r,2),o=l[0],u=l[1],j=Object(a.useState)({text:"",createdAt:"",patientId:0}),m=Object(s.a)(j,2),p=m[0],h=m[1];function x(e){u(o.filter((function(t){return t.id!==e.id})))}return Object(a.useEffect)((function(){u(c.find((function(e){return e.id===Number(t.id)})).comments)}),[t.id]),Object(i.jsxs)("div",{children:[Object(i.jsx)("p",{className:"fs-3 ms-4",children:"Comments:"}),Object(i.jsx)("div",{className:"alert alert-secondary pb-0",children:Object(i.jsx)("ul",{id:"comment-list",className:"no-list",children:o.map((function(e){return e.patientId=t.id,Object(i.jsx)(q,{comment:e,remove:x},e.id)}))})}),Object(i.jsx)("div",{className:"alert alert-secondary",children:Object(i.jsxs)("form",{id:"comment-form",className:"d-flex form-floating",children:[Object(i.jsx)("textarea",{className:"form-control",id:"floatingTextarea",placeholder:"Leave a comment here",name:"text",value:p.text,onChange:function(e){return h(Object(d.a)(Object(d.a)({},p),{},{text:e.target.value}))}}),Object(i.jsx)("label",{htmlFor:"floatingTextarea",children:"Leave a comment here..."}),Object(i.jsx)("button",{onClick:function(e){e.preventDefault();var n=Object(d.a)(Object(d.a)({},p),{},{createdAt:(new Date).toISOString(),patientId:t.id});g.createComment(n).then((function(e){u([].concat(Object(C.a)(o),[e.data]))})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request.url):console.log("Unknown error!")}))},className:"btn btn-success ms-2",children:"Add"})]})})]})}),D=function(e){var t=Object(a.useContext)(N),n=Object(s.a)(t,2),c=n[0],r=n[1],l=Object(b.h)(),o=Object(a.useState)(c.find((function(e){return e.id===Number(l.id)}))),u=Object(s.a)(o,2),j=u[0],d=u[1],m=Object(b.g)();return Object(a.useEffect)((function(){d(c.find((function(e){return e.id===Number(l.id)})))}),[l.id]),Object(i.jsxs)("div",{className:"row my-4",children:[Object(i.jsx)("div",{className:"col-xxl-4 col-xl-5 col-lg-12 col-md-12 col-sm-12 col-xs-12 pe-4",children:Object(i.jsxs)("div",{children:[Object(i.jsxs)("div",{className:"d-flex justify-content-between mx-4",children:[Object(i.jsxs)("span",{className:"fs-3",children:[j.firstName," ",j.lastName]}),Object(i.jsxs)("span",{className:"fs-5 mt-1",children:[function(e){var t=Date.now()-new Date(e),n=new Date(t);return Math.abs(n.getUTCFullYear()-1970)}(j.birthday)," years old"]})]}),Object(i.jsxs)("div",{className:"alert alert-secondary mt-3",children:[Object(i.jsxs)("div",{className:"alert alert-light d-flex fs-5",children:[Object(i.jsxs)("ul",{className:"no-list pe-3 mb-1",children:[Object(i.jsx)("li",{children:"Date of Birth:"}),Object(i.jsx)("li",{children:"Sex:"}),Object(i.jsx)("li",{children:"Country:"}),Object(i.jsx)("li",{children:"State:"}),Object(i.jsx)("li",{children:"Address:"})]}),Object(i.jsxs)("ul",{className:"no-list fst-italic pe-3 mb-1",children:[Object(i.jsx)("li",{children:new Date(j.birthday).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),Object(i.jsx)("li",{className:"text-lowercase",children:j.gender}),Object(i.jsx)("li",{children:j.country}),Object(i.jsx)("li",{children:j.state}),Object(i.jsx)("li",{children:j.address})]})]}),Object(i.jsxs)("div",{className:"mt-4",children:[Object(i.jsx)("button",{onClick:function(){m.push({pathname:"/patient/"+j.id+"/update"})},className:"btn btn-primary w-25 me-3",children:"Edit"}),Object(i.jsx)("button",{onClick:function(){g.deletePatient(l.id).then((function(e){r(c.filter((function(e){return e.id!==Number(l.id)}))),m.push({pathname:"/patient/"+c[0].id+"/info"})})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request.url):console.log("Unknown error!")}))},className:"btn btn-danger w-25",children:"Delete"})]})]})]})}),Object(i.jsx)("div",{className:"col-xxl-8 col-xl-7 col-lg-12 col-md-12 col-sm-12 col-xs-12",children:Object(i.jsx)(F,{})})]})},L=function(e){var t=Object(a.useContext)(N),n=Object(s.a)(t,2),c=n[0],r=n[1],l=Object(b.h)(),o=Object(a.useState)(c.find((function(e){return e.id===Number(l.id)}))),u=Object(s.a)(o,2),j=u[0],m=u[1],p=Object(b.g)();return Object(i.jsx)("div",{className:"row mt-4 mx-5",children:Object(i.jsxs)("div",{className:"col-xxl-7 col-xl-8 col-lg-9 col-md-12 col-sm-12 col-xs-12",children:[Object(i.jsxs)("p",{className:"fs-3",children:[j.firstName," ",j.lastName]}),Object(i.jsx)("hr",{}),Object(i.jsxs)("form",{children:[Object(i.jsx)("label",{htmlFor:"first-name",className:"form-label",children:"First Name:"}),Object(i.jsx)("input",{id:"first-name",name:"first-name",type:"text",className:"form-control",value:j.firstName,onChange:function(e){return m(Object(d.a)(Object(d.a)({},j),{},{firstName:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"last-name",className:"form-label",children:"Last Name:"}),Object(i.jsx)("input",{id:"last-name",name:"last-name",type:"text",className:"form-control",value:j.lastName,onChange:function(e){return m(Object(d.a)(Object(d.a)({},j),{},{lastName:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"birthday",className:"form-label",children:"Date of Birth:"}),Object(i.jsx)("input",{id:"birthday",name:"birthday",type:"date",className:"form-control",value:j.birthday,onChange:function(e){return m(Object(d.a)(Object(d.a)({},j),{},{birthday:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"gender",className:"form-label",children:"Sex:"}),Object(i.jsxs)("select",{id:"gender",name:"gender",className:"form-control",value:j.gender,onChange:function(e){return m(Object(d.a)(Object(d.a)({},j),{},{gender:e.target.value}))},children:[Object(i.jsx)("option",{disabled:!0,value:"",children:"Select sex..."}),Object(i.jsx)("option",{value:"MALE",children:"Male"}),Object(i.jsx)("option",{value:"FEMALE",children:"Female"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"country",className:"form-label",children:"Country:"}),Object(i.jsx)("input",{id:"country",name:"country",type:"text",className:"form-control",value:j.country,onChange:function(e){return m(Object(d.a)(Object(d.a)({},j),{},{country:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"state",className:"form-label",children:"State:"}),Object(i.jsx)("input",{id:"state",name:"state",type:"text",className:"form-control",value:j.state,onChange:function(e){return m(Object(d.a)(Object(d.a)({},j),{},{state:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("label",{htmlFor:"address",className:"form-label",children:"Address:"}),Object(i.jsx)("input",{id:"address",name:"address",type:"text",className:"form-control",value:j.address,onChange:function(e){return m(Object(d.a)(Object(d.a)({},j),{},{address:e.target.value}))},required:!0}),Object(i.jsx)("br",{}),Object(i.jsx)("button",{className:"btn btn-primary w-25",onClick:function(e){e.preventDefault(),g.updatePatient(j).then((function(e){c[c.findIndex((function(e){return e.id===j.id}))]=j,r(c),p.push({pathname:"/patient/"+e.data.id+"/info"})})).catch((function(e){e.response?console.log(e.response.data):e.request?console.log(e.request.url):console.log("Unknown error!")}))},children:"Update"}),Object(i.jsx)("button",{className:"btn btn-warning w-25 ms-3",onClick:function(){p.push({pathname:"/patient/"+j.id+"/info"})},children:"Cancel"})]})]})})};n(73),n(74);var A=function(){return Object(i.jsx)("div",{className:"container-fluid px-xxl-5 px-xl-5 px-lg-4 px-md-3 pt-4",children:Object(i.jsx)("div",{className:"row",children:Object(i.jsx)(o.a,{children:Object(i.jsxs)(y,{children:[Object(i.jsx)("div",{className:"col-xxl-3 col-xl-3 col-lg-4 col-md-5 col-sm-12 col-xs-12",children:Object(i.jsx)(b.b,{exact:!0,path:["/","/patient/create","/patient/:id/update","/patient/:id/info"],component:w})}),Object(i.jsx)(b.d,{children:Object(i.jsxs)("div",{className:"col-xxl-9 col-xl-9 col-lg-8 col-md-7 col-sm-12 col-xs-12",children:[Object(i.jsx)(b.b,{exact:!0,path:"/patient/:id/info",component:D}),Object(i.jsx)(b.b,{exact:!0,path:"/patient/create",component:k}),Object(i.jsx)(b.b,{exact:!0,path:"/patient/:id/update",component:L}),Object(i.jsx)(b.a,{to:"/"})]})})]})})})})};r.a.render(Object(i.jsx)(A,{}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.9745e196.chunk.js.map